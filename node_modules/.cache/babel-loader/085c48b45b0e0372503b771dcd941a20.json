{"ast":null,"code":"var _jsxFileName = \"/Users/blakewaldron/Desktop/Personally/personally-frontend/src/user/Profile.js\";\nimport React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { read } from \"./apiUser\";\nimport DeleteUser from \"./DeleteUser\";\nimport DefaultProfile from \"../assets/images/avatar.png\";\nconst profileImage = {\n  width: \"100px\",\n  borderRadius: \"100px\",\n  margin: \"0\"\n};\n\nclass Profile extends Component {\n  constructor() {\n    super();\n\n    this.init = userId => {\n      const token = isAuthenticated().token;\n      read(userId, token).then(data => {\n        if (data.error) {\n          this.setState({\n            redirectToSignin: true\n          });\n          console.log(\"Error.\");\n        } else {\n          this.setState({\n            user: data\n          });\n        }\n      });\n    };\n\n    this.shitcode = () => {\n      return isAuthenticated().user && isAuthenticated().user._id == this.state.user._id && React.createElement(\"div\", {\n        className: \"d-inline-block mt-5 mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"btn btn-raised btn-success mr-5\",\n        to: \"/user/edit/\".concat(this.state.user._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Edit Profile\"), React.createElement(DeleteUser, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    };\n\n    this.state = {\n      user: null,\n      redirectToSignin: false\n    };\n  }\n\n  checkUser() {\n    let user = this.state.user;\n    console.log(user); // if (this.state.user) {\n    //   console.log(this.state.user);\n    // } else if (!this.state.user) {\n    //   console.log(\"USER IS NULL.\");\n    // }\n  }\n\n  componentDidMount() {\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n\n  componentWillReceiveProps(props) {\n    const userId = props.match.params.userId;\n    this.init(userId);\n  }\n\n  render() {\n    const _this$state = this.state,\n          redirectToSignin = _this$state.redirectToSignin,\n          user = _this$state.user;\n\n    if (redirectToSignin) {\n      return React.createElement(Redirect, {\n        to: \"/signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container mt-5 mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: profileImage,\n      src: DefaultProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Handle: @\", user ? user.username + \" \" : \"loading\"), React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Email: \", user ? user.email + \" \" : \"loading\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, user ? user.name.firstName + \" \" : \"loading\", user ? user.name.lastName : \"loading\")), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), user ? this.shitcode() : \"Loading...\"));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/blakewaldron/Desktop/Personally/personally-frontend/src/user/Profile.js"],"names":["React","Component","isAuthenticated","Redirect","Link","read","DeleteUser","DefaultProfile","profileImage","width","borderRadius","margin","Profile","constructor","init","userId","token","then","data","error","setState","redirectToSignin","console","log","user","shitcode","_id","state","checkUser","componentDidMount","props","match","params","componentWillReceiveProps","render","username","email","name","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { read } from \"./apiUser\";\nimport DeleteUser from \"./DeleteUser\";\nimport DefaultProfile from \"../assets/images/avatar.png\";\n\nconst profileImage = {\n  width: \"100px\",\n  borderRadius: \"100px\",\n  margin: \"0\"\n};\n\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null,\n      redirectToSignin: false\n    };\n  }\n\n  checkUser() {\n    let user = this.state.user;\n\n    console.log(user);\n    // if (this.state.user) {\n    //   console.log(this.state.user);\n    // } else if (!this.state.user) {\n    //   console.log(\"USER IS NULL.\");\n    // }\n  }\n\n  init = userId => {\n    const token = isAuthenticated().token;\n\n    read(userId, token).then(data => {\n      if (data.error) {\n        this.setState({ redirectToSignin: true });\n        console.log(\"Error.\");\n      } else {\n        this.setState({ user: data });\n      }\n    });\n  };\n\n  //Courtesy of Alex Zenin on july 10 2019\n  shitcode = () => {\n    return (\n      isAuthenticated().user &&\n      isAuthenticated().user._id == this.state.user._id && (\n        <div className=\"d-inline-block mt-5 mb-5\">\n          <Link\n            className=\"btn btn-raised btn-success mr-5\"\n            to={`/user/edit/${this.state.user._id}`}\n          >\n            Edit Profile\n          </Link>\n          <DeleteUser />\n        </div>\n      )\n    );\n  };\n\n  componentDidMount() {\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n  componentWillReceiveProps(props) {\n    const userId = props.match.params.userId;\n    this.init(userId);\n  }\n\n  render() {\n    const { redirectToSignin, user } = this.state;\n\n    if (redirectToSignin) {\n      return <Redirect to=\"/signin\" />;\n    }\n    return (\n      <div className=\"container mt-5 mb-5\">\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <img style={profileImage} src={DefaultProfile} />\n            <h2>Handle: @{user ? user.username + \" \" : \"loading\"}</h2>\n            <h6>Email: {user ? user.email + \" \" : \"loading\"}</h6>\n\n            <p>\n              {user ? user.name.firstName + \" \" : \"loading\"}\n              {user ? user.name.lastName : \"loading\"}\n            </p>\n          </div>\n          <div className=\"col-md-6\" />\n          {user ? this.shitcode() : \"Loading...\"}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}